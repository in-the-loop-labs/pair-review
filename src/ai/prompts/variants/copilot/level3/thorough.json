{
  "meta": {
    "baseline": "level3/thorough",
    "baselineHash": "bfa0992d",
    "targetModel": "gpt-5.1-codex-max",
    "optimizerModel": "gpt-5.1-codex-max",
    "timestamp": "2026-01-19T03:53:51.750Z"
  },
  "delta": {
    "sectionOrder": [
      "role",
      "pr-context",
      "changed-files",
      "level-header",
      "purpose",
      "output-schema",
      "diff-instructions",
      "confidence-guidance",
      "category-definitions",
      "file-level-guidance",
      "guidelines",
      "line-number-guidance",
      "analysis-process",
      "focus-areas",
      "reasoning-encouragement",
      "available-commands",
      "custom-instructions",
      "generated-files"
    ],
    "overrides": {
      "purpose": "## Purpose\nLevel 3 maps how these changes connect to and impact the broader codebase. Not a general architecture audit—stay anchored to the specific changes.\nAnswer:\n- How do these changes align with existing architecture?\n- Which patterns elsewhere should they follow or evolve?\n- What other parts of the system are affected?\n- What tests/docs/config changes should accompany them?",
      "diff-instructions": "## Line Number Reference (old_or_new field)\nUse \"NEW\" for added and context lines (default). Use \"OLD\" only for deleted lines marked [-]. When unsure, choose \"NEW\".",
      "confidence-guidance": "## Confidence Calibration\nConfidence = epistemic certainty.\n- High (0.8-1.0): verified via tracing callers/patterns.\n- Medium (0.5-0.79): strong evidence, partial verification.\n- Low (0.3-0.49): heuristic suspicion.\n- Very low (<0.3): flag for human review.\nLower confidence when conventions are unclear, comparisons are missing, or runtime effects are unknown. Confidence is not severity.",
      "category-definitions": "## Category Definitions\n- bug: Will fail or misbehave given system context.\n- improvement: Works but diverges from established patterns.\n- praise: Good alignment with conventions.\n- suggestion: Context-driven recommendation.\n- design: Architectural/structural concerns.\n- performance: Efficiency/scalability issues.\n- security: Authz/authn/data protection risks.\n- code-style: Style/organization inconsistencies.",
      "file-level-guidance": "## File-Level Suggestions\nUse file-level entries for concerns or praise spanning the whole file (architecture role, missing tests/docs/config, organization, duplication, integration). No line numbers. Include when the issue cannot be fixed on a single line or praise applies broadly.",
      "guidelines": "## Guidelines\n- Level 3 requires cross-file/codebase context; if line-local, omit.\n- Prefer line-level anchors; use file-level for cross-cutting items.\n- Suggestions must cite specific patterns/files (e.g., match src/services/UserService.js lines 45-60).\n- Praise omits suggestion.\n- Verify evidence before citing patterns.\n- Explore outward: changed files → similar implementations → dependents → tests.\n- Fewer high-confidence findings beat many weak ones; separate severity from confidence.",
      "analysis-process": "## Analysis Process\n1) Map scope: list modified interfaces; note additive vs behavioral changes.\n2) Trace dependencies: find callers/dependents and transitive impacts.\n3) Identify patterns: locate 2-3 similar implementations; note naming/error/logging/validation conventions.\n4) Evaluate conformance: follow or deliberately improve patterns; justify deviations.\n5) Assess ripple effects: integration points, breakage risk, untested paths.\n6) Check completeness: tests/docs/config/env changes in line with similar modules.\n7) Consider evolution: future maintainability and debt.",
      "focus-areas": "## Analysis Focus Areas\n- Architectural Consistency: layering, boundaries, organization.\n- Established Patterns: alignment on naming, error/logging/validation, reuse vs duplication.\n- Cross-File Dependencies: caller breakage, implicit contracts, circular deps.\n- Testing Coverage: {{testingGuidance}}; mirror existing test patterns/fixtures; integration vs unit where applicable.\n- Documentation Completeness: API/README/guide/ADR parity with similar surfaces.\n- API Contracts: breaking changes, versioning, error shapes, compatibility.\n- Configuration & Environment: flags, env/deploy changes, multi-env correctness.\n- Breaking Changes & Compatibility: deprecations, migrations, blast radius.\n- Performance Impact: N+1/cache/scale/resource contention.\n- Security Considerations: authn/z, data flow, trust boundaries, exposure.\n- Good Practices: well-integrated architecture, cross-cutting handling, maintainability wins.",
      "reasoning-encouragement": "## Reasoning Approach\nBe systematic: move from specific changes to system implications. For each changed unit, trace callers and dependencies, check contract shifts, and compare against 2-3 similar implementations to separate convention from innovation. Map data flow, trust boundaries, and failure modes; ensure layering remains intact. Prefer fewer, well-supported findings requiring codebase context."
    },
    "removedSections": [],
    "addedSections": []
  },
  "changes": [
    {
      "section": "role",
      "type": "modified",
      "rationale": "Kept required tag but front-loaded role to set context early and tightened wording for clarity."
    },
    {
      "section": "pr-context",
      "type": "unchanged",
      "rationale": "Locked section preserved exactly per requirement."
    },
    {
      "section": "changed-files",
      "type": "unchanged",
      "rationale": "Locked section preserved exactly per requirement."
    },
    {
      "section": "level-header",
      "type": "modified",
      "rationale": "Retained heading but relocated earlier for fast framing."
    },
    {
      "section": "purpose",
      "type": "modified",
      "rationale": "Condensed and bulletized key questions to fit codex model while preserving intent."
    },
    {
      "section": "output-schema",
      "type": "unchanged",
      "rationale": "Locked output schema kept intact as mandated."
    },
    {
      "section": "diff-instructions",
      "type": "modified",
      "rationale": "Simplified guidance to emphasize default choice quickly."
    },
    {
      "section": "confidence-guidance",
      "type": "modified",
      "rationale": "Condensed scale and lowered confidence cues for quicker parsing."
    },
    {
      "section": "category-definitions",
      "type": "modified",
      "rationale": "Shortened definitions while maintaining distinctions."
    },
    {
      "section": "file-level-guidance",
      "type": "modified",
      "rationale": "Compressed to essential criteria and examples for whole-file observations."
    },
    {
      "section": "guidelines",
      "type": "modified",
      "rationale": "Grouped scope, actionability, evidence, exploration, and calibration into concise bullets."
    },
    {
      "section": "line-number-guidance",
      "type": "unchanged",
      "rationale": "Required templated content preserved for runtime fill."
    },
    {
      "section": "analysis-process",
      "type": "modified",
      "rationale": "Streamlined steps into concise imperatives for faster execution."
    },
    {
      "section": "focus-areas",
      "type": "modified",
      "rationale": "Condensed sub-areas into bullet summaries while retaining breadth and {{testingGuidance}}."
    },
    {
      "section": "reasoning-encouragement",
      "type": "modified",
      "rationale": "Tightened prose to highlight tracing, comparison, and systemic thinking with fewer words."
    },
    {
      "section": "available-commands",
      "type": "modified",
      "rationale": "Kept content but trimmed wording and kept read-only reminder prominent."
    },
    {
      "section": "custom-instructions",
      "type": "unchanged",
      "rationale": "Optional placeholder retained for flexibility; no change to content."
    },
    {
      "section": "generated-files",
      "type": "unchanged",
      "rationale": "Optional placeholder retained as-is to allow generated file awareness when provided."
    }
  ]
}