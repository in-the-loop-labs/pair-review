{"id":"pair_review-11v","title":"AI suggestions sidebar disappears when empty","description":"this may be fixed by other issues, but this sidebar should never entirely disappear. It makes viewing level-specific suggestions invisible","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T09:19:20.418582-05:00","updated_at":"2025-12-27T09:19:20.418582-05:00"}
{"id":"pair_review-13b","title":"when adopting AI suggestions do not remove from sidebar","description":"instead of removing there should be some other visual indication instead, such as the entry being all gray or otherwise de-emphasized in some way -- but not entirely removed. this suggestions are still present in the diff, but collapsed, so it should still be possible to navigate to them","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:02:19.696331-05:00","updated_at":"2025-12-28T08:14:38.828974-05:00","closed_at":"2025-12-28T08:14:38.828974-05:00"}
{"id":"pair_review-3ig","title":"Consolidate comment buttons into split button","description":"## Problem\nThe PR header has 3 comment-related buttons that clutter the UI:\n- Preview Comments\n- Clear Comments  \n- N comments (Submit Review)\n\n## Solution\nReplace with a single **split button** pattern:\n\n```\n┌──────────────────┬───┐\n│   2 comments     │ ▾ │  ← Two click targets\n└──────────────────┴───┘\n        ↓            ↓\n   Primary       Dropdown\n   Action        Menu\n```\n\n### Behavior\n- **Click main area** → executes configurable primary action (Submit Review or Preview)\n- **Click dropdown arrow** → shows menu with all options:\n  ```\n  ┌─────────────────┐\n  │ ✓ Submit Review │  ← checkmark shows current default\n  │   Preview       │\n  │ ───────────────│\n  │   Clear All     │\n  └─────────────────┘\n  ```\n\n### Configuration\nAdd to `~/.pair-review/config.json`:\n```json\n{\n  \"comment_button_action\": \"submit\"  // or \"preview\"\n}\n```\n\nDefault: \"submit\" (most users want quick submission)\n\n### Implementation Details\n\n1. **Create SplitButton component** (`public/js/components/SplitButton.js`)\n   - Renders button with main area + dropdown arrow\n   - Handles click events for both targets\n   - Manages dropdown open/close state\n   - Closes dropdown on outside click\n\n2. **Update pr.js header rendering** (around line 468)\n   - Remove: Preview Comments, Clear Comments, N comments buttons\n   - Add: Single split button instance\n   - Wire up actions: openPreviewModal(), clearAllUserComments(), openReviewModal()\n\n3. **Add API endpoint** for config\n   - GET `/api/config` - returns user config including comment_button_action\n   - Already may exist, just need to add new field\n\n4. **CSS styling** (`public/css/pr.css`)\n   - Split button styling matching existing btn-primary/green style\n   - Dropdown menu styling\n   - Checkmark indicator for current default\n   - Separator line before Clear All (destructive action)\n\n### Files to modify\n- `public/js/components/SplitButton.js` (new)\n- `public/js/pr.js` (header buttons ~line 468, updateCommentCount)\n- `public/css/pr.css` (split button styles)\n- `src/server.js` or config handler (if config endpoint needs update)\n\n### Reference\nSimilar patterns:\n- VS Code Run button with debug config dropdown\n- GitHub \"Merge pull request\" dropdown\n- Chrome download button","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-28T13:01:15.891622-05:00","updated_at":"2025-12-28T13:01:15.891622-05:00"}
{"id":"pair_review-9tw","title":"add syntax high-lighting","description":"Use a library to do this","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T08:51:02.674219-05:00","updated_at":"2025-12-28T11:47:37.398279-05:00","closed_at":"2025-12-28T11:47:37.398279-05:00"}
{"id":"pair_review-a4d","title":"Wrap long lines","description":"the github UI wraps long lines in the diff display. pair-review should do the same. When a line is wrapped, no line number is shown in the gutter. This must be handled correctly for line selection for commenting, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T08:47:22.374732-05:00","updated_at":"2025-12-27T09:42:46.785704-05:00","closed_at":"2025-12-27T09:42:46.785704-05:00"}
{"id":"pair_review-ae9","title":"start review from web UI","description":"should be able to paste in a PR URL and have the running UI create workspace to view diff; maybe optionally start the AI review though that could be a separate step for simplicity","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T08:26:05.337455-05:00","updated_at":"2025-12-28T08:26:05.337455-05:00"}
{"id":"pair_review-cu8","title":"diff display should use more of full window width when sidebars are collapsed","description":"This should be more like gitHub in terms of using most of the window width","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T08:49:47.191183-05:00","updated_at":"2025-12-27T10:24:50.951641-05:00","closed_at":"2025-12-27T10:24:50.951641-05:00"}
{"id":"pair_review-d7n","title":"AI suggestions for lines that are not visible","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:46:08.631773-05:00","updated_at":"2025-12-27T08:46:08.631773-05:00"}
{"id":"pair_review-e4k","title":"workspace management","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T09:14:28.91021-05:00","updated_at":"2025-12-27T09:14:28.91021-05:00"}
{"id":"pair_review-ezw","title":"AI suggestion and user comment width should never be greater than diff display width","description":"This should be helped by wrapping long lines: pair_review-a4d","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:48:33.629798-05:00","updated_at":"2025-12-27T08:48:33.629798-05:00"}
{"id":"pair_review-nxs","title":"Refactor createGapSection and createCollapsedSection to extract shared logic","description":"The createGapSection and createCollapsedSection functions in public/js/pr.js share ~140 lines of nearly identical logic for determining icon display, creating buttons, and attaching event handlers. Extract shared logic into helper functions (e.g., createExpandButton, determineIconDisplay, attachExpansionHandler) to reduce duplication and improve maintainability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:53:32.750789-05:00","updated_at":"2025-12-27T08:53:42.094894-05:00"}
{"id":"pair_review-qaj","title":"add support for context7","description":"This MCP could be useful for providing context on frameworks and libraries during review. It should be passed as a command line arg to . The pair-review configuration (or env variable) could be used for specifying a context7 API key.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:52:42.774364-05:00","updated_at":"2025-12-27T08:52:42.774364-05:00"}
{"id":"pair_review-rat","title":"add model selector when triggering AI analysis from UI","description":"Instead of starting analysis immediately there should be an intermediate dialog with an option to select the model. In the future, this dialog could grow to support other options like custom instructions","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T09:13:51.751693-05:00","updated_at":"2025-12-27T09:13:51.751693-05:00"}
{"id":"pair_review-rhh","title":"codebase health","description":"some files are getting large. how should the codebase be refactored for long-term maintenanc","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T09:15:29.949674-05:00","updated_at":"2025-12-27T09:15:29.949674-05:00"}
