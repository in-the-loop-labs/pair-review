{"id":"pair_review-0fh","title":"Remove worktree_path from pr_data JSON","description":"Worktree path is stored in both worktrees table and pr_data JSON. Remove duplication - worktrees table is source of truth.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-29T09:20:02.446966-05:00","updated_at":"2025-12-29T09:20:02.446966-05:00"}
{"id":"pair_review-0oj","title":"Auto-cleanup stale worktrees on server start","description":"## Problem\nWorktrees accumulate on disk and are never cleaned up automatically.\n\n## Solution\nOn server startup, asynchronously clean up worktrees not accessed within retention period.\n\n## Implementation\n1. Add config option: `worktree_retention_days` (default: 7)\n2. Add `WorktreeManager.cleanupStaleWorktrees()` method:\n   - Query DB for worktrees where `last_accessed_at \u003c (now - retention_days)`\n   - For each stale worktree:\n     - Run `git worktree remove --force {path}`\n     - Delete directory if remove fails\n     - Delete DB record\n   - Log to console: \"Cleaned up N stale worktrees\"\n3. Call cleanup async after server starts (don't block startup)\n4. Add `git worktree prune` call to clean orphaned registrations\n\n## Logging\n- Console log only (silent to user)\n- Format: `[pair-review] Cleaned up 3 stale worktrees (older than 7 days)`\n\n## Dependencies\n- Requires worktrees database table (pair_review-452)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T15:56:21.67418-05:00","updated_at":"2025-12-28T16:29:09.862917-05:00","closed_at":"2025-12-28T16:29:09.862917-05:00","dependencies":[{"issue_id":"pair_review-0oj","depends_on_id":"pair_review-452","type":"blocks","created_at":"2025-12-28T15:56:34.986646-05:00","created_by":"daemon"},{"issue_id":"pair_review-0oj","depends_on_id":"pair_review-e4k","type":"blocks","created_at":"2025-12-28T15:56:43.516493-05:00","created_by":"daemon"}]}
{"id":"pair_review-11v","title":"AI suggestions sidebar disappears when empty","description":"this may be fixed by other issues, but this sidebar should never entirely disappear. It makes viewing level-specific suggestions invisible","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T09:19:20.418582-05:00","updated_at":"2025-12-27T09:19:20.418582-05:00"}
{"id":"pair_review-13b","title":"when adopting AI suggestions do not remove from sidebar","description":"instead of removing there should be some other visual indication instead, such as the entry being all gray or otherwise de-emphasized in some way -- but not entirely removed. this suggestions are still present in the diff, but collapsed, so it should still be possible to navigate to them","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:02:19.696331-05:00","updated_at":"2025-12-28T08:14:38.828974-05:00","closed_at":"2025-12-28T08:14:38.828974-05:00"}
{"id":"pair_review-38y","title":"URL input field should be much wider","description":"The URL input field on the landing page is still too narrow. It should be approximately 3 times its current width to properly accommodate GitHub PR URLs without truncation.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-29T08:05:31.540895-05:00","updated_at":"2025-12-29T08:28:12.108173-05:00","closed_at":"2025-12-29T08:28:12.108173-05:00","dependencies":[{"issue_id":"pair_review-38y","depends_on_id":"pair_review-jbp","type":"blocks","created_at":"2025-12-29T08:05:54.642524-05:00","created_by":"daemon"}]}
{"id":"pair_review-3ig","title":"Consolidate comment buttons into split button","description":"## Problem\nThe PR header has 3 comment-related buttons that clutter the UI:\n- Preview Comments\n- Clear Comments  \n- N comments (Submit Review)\n\n## Solution\nReplace with a single **split button** pattern:\n\n```\n┌──────────────────┬───┐\n│   2 comments     │ ▾ │  ← Two click targets\n└──────────────────┴───┘\n        ↓            ↓\n   Primary       Dropdown\n   Action        Menu\n```\n\n### Behavior\n- **Click main area** → executes configurable primary action (Submit Review or Preview)\n- **Click dropdown arrow** → shows menu with all options:\n  ```\n  ┌─────────────────┐\n  │ ✓ Submit Review │  ← checkmark shows current default\n  │   Preview       │\n  │ ───────────────│\n  │   Clear All     │\n  └─────────────────┘\n  ```\n\n### Configuration\nAdd to `~/.pair-review/config.json`:\n```json\n{\n  \"comment_button_action\": \"submit\"  // or \"preview\"\n}\n```\n\nDefault: \"submit\" (most users want quick submission)\n\n### Implementation Details\n\n1. **Create SplitButton component** (`public/js/components/SplitButton.js`)\n   - Renders button with main area + dropdown arrow\n   - Handles click events for both targets\n   - Manages dropdown open/close state\n   - Closes dropdown on outside click\n\n2. **Update pr.js header rendering** (around line 468)\n   - Remove: Preview Comments, Clear Comments, N comments buttons\n   - Add: Single split button instance\n   - Wire up actions: openPreviewModal(), clearAllUserComments(), openReviewModal()\n\n3. **Add API endpoint** for config\n   - GET `/api/config` - returns user config including comment_button_action\n   - Already may exist, just need to add new field\n\n4. **CSS styling** (`public/css/pr.css`)\n   - Split button styling matching existing btn-primary/green style\n   - Dropdown menu styling\n   - Checkmark indicator for current default\n   - Separator line before Clear All (destructive action)\n\n### Files to modify\n- `public/js/components/SplitButton.js` (new)\n- `public/js/pr.js` (header buttons ~line 468, updateCommentCount)\n- `public/css/pr.css` (split button styles)\n- `src/server.js` or config handler (if config endpoint needs update)\n\n### Reference\nSimilar patterns:\n- VS Code Run button with debug config dropdown\n- GitHub \"Merge pull request\" dropdown\n- Chrome download button","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T13:01:15.891622-05:00","updated_at":"2025-12-28T13:22:01.510553-05:00","closed_at":"2025-12-28T13:22:01.510553-05:00"}
{"id":"pair_review-41r","title":"Separate index.html and pr.html pages","description":"Currently the landing page and PR review page share index.html, which causes issues with elements appearing where they shouldn't. These should be separate HTML files:\n\n- index.html: Landing page with URL input and recent reviews\n- pr.html: PR review page with diff view, sidebars, etc.\n\nThis is a cleaner architecture that avoids CSS/JS conflicts and show/hide logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T08:05:33.62306-05:00","updated_at":"2025-12-29T08:26:46.101998-05:00","closed_at":"2025-12-29T08:26:46.101998-05:00","dependencies":[{"issue_id":"pair_review-41r","depends_on_id":"pair_review-jbp","type":"blocks","created_at":"2025-12-29T08:05:54.686022-05:00","created_by":"daemon"}]}
{"id":"pair_review-452","title":"Add dedicated worktrees database table","description":"## Problem\nWorktree paths are currently stored in `pr_metadata.pr_data` JSON blob. This makes queries for cleanup, recently-used lists, and tracking difficult.\n\n## Solution\nCreate a dedicated `worktrees` table:\n\n```sql\nCREATE TABLE worktrees (\n  id TEXT PRIMARY KEY,           -- Random ID (like beads naming)\n  pr_number INTEGER NOT NULL,\n  repository TEXT NOT NULL,      -- owner/repo format\n  branch TEXT NOT NULL,          -- PR head branch\n  path TEXT NOT NULL,            -- Full filesystem path\n  created_at TEXT NOT NULL,      -- ISO timestamp\n  last_accessed_at TEXT NOT NULL,-- ISO timestamp, updated on each use\n  UNIQUE(pr_number, repository)\n);\n\nCREATE INDEX idx_worktrees_last_accessed ON worktrees(last_accessed_at);\nCREATE INDEX idx_worktrees_repo ON worktrees(repository);\n```\n\n## Implementation\n1. Add table creation to `src/database.js`\n2. Add migration logic to handle existing worktrees (scan directory, populate table)\n3. Create WorktreeRepository class with CRUD methods:\n   - `create(prInfo)` → returns worktree record\n   - `findByPR(prNumber, repository)` → returns worktree or null\n   - `updateLastAccessed(id)` → touches last_accessed_at\n   - `findStale(olderThan)` → returns worktrees not accessed since date\n   - `delete(id)` → removes record\n   - `listRecent(limit)` → returns recently accessed worktrees\n\n## Notes\n- Keep `pr_metadata.pr_data` blob for backward compat but stop writing worktree_path there\n- Random ID generation should match beads style (alphanumeric, ~6 chars)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T15:55:47.036368-05:00","updated_at":"2025-12-28T16:08:29.231282-05:00","closed_at":"2025-12-28T16:08:29.231282-05:00","dependencies":[{"issue_id":"pair_review-452","depends_on_id":"pair_review-e4k","type":"blocks","created_at":"2025-12-28T15:56:43.415803-05:00","created_by":"daemon"}]}
{"id":"pair_review-4k0","title":"Use random IDs for worktree directory names","description":"## Problem\nCurrent naming `{owner}-{repo}-{number}` is predictable and suggests these directories are for user access. They should be for application use only.\n\n## Solution\nUse random alphanumeric IDs (like beads issue naming) for worktree directories:\n- Before: `~/.pair-review/worktrees/anthropic-pair-review-123`\n- After: `~/.pair-review/worktrees/x7k` or `~/.pair-review/worktrees/a3m9p`\n\n## Implementation\n1. Update `WorktreeManager.createWorktreeForPR()` to:\n   - Generate random ID (6 alphanumeric chars)\n   - Use ID as directory name\n   - Store mapping in worktrees table\n2. Update `getWorktreePath()` to look up path from DB by PR info\n3. Remove any logic that derives path from PR number\n\n## Dependencies\n- Requires worktrees database table (pair_review-452)\n\n## Migration\n- Existing worktrees can be renamed or left as-is until cleanup\n- New worktrees use random naming immediately","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T15:56:20.310439-05:00","updated_at":"2025-12-28T16:19:15.852915-05:00","closed_at":"2025-12-28T16:19:15.852915-05:00","dependencies":[{"issue_id":"pair_review-4k0","depends_on_id":"pair_review-452","type":"blocks","created_at":"2025-12-28T15:56:34.943059-05:00","created_by":"daemon"},{"issue_id":"pair_review-4k0","depends_on_id":"pair_review-e4k","type":"blocks","created_at":"2025-12-28T15:56:43.462161-05:00","created_by":"daemon"}]}
{"id":"pair_review-5vi","title":"CLI should open PR page directly, not landing page","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-29T08:35:36.782001-05:00","updated_at":"2025-12-29T08:37:31.598826-05:00","closed_at":"2025-12-29T08:37:31.598826-05:00"}
{"id":"pair_review-9rj","title":"Worktree delete uses parseInt on TEXT id","description":"The delete endpoint does parseInt(req.params.id) but worktree IDs are TEXT (alphanumeric strings like 'x2z'), causing parseInt to return NaN","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-29T09:19:51.428113-05:00","updated_at":"2025-12-29T09:21:54.731385-05:00","closed_at":"2025-12-29T09:21:54.731385-05:00"}
{"id":"pair_review-9tw","title":"add syntax high-lighting","description":"Use a library to do this","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T08:51:02.674219-05:00","updated_at":"2025-12-28T11:47:37.398279-05:00","closed_at":"2025-12-28T11:47:37.398279-05:00"}
{"id":"pair_review-a4d","title":"Wrap long lines","description":"the github UI wraps long lines in the diff display. pair-review should do the same. When a line is wrapped, no line number is shown in the gutter. This must be handled correctly for line selection for commenting, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T08:47:22.374732-05:00","updated_at":"2025-12-27T09:42:46.785704-05:00","closed_at":"2025-12-27T09:42:46.785704-05:00"}
{"id":"pair_review-ae9","title":"start review from web UI","description":"should be able to paste in a PR URL and have the running UI create workspace to view diff; maybe optionally start the AI review though that could be a separate step for simplicity","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T08:26:05.337455-05:00","updated_at":"2025-12-28T16:45:39.805603-05:00","closed_at":"2025-12-28T16:45:39.805603-05:00","dependencies":[{"issue_id":"pair_review-ae9","depends_on_id":"pair_review-e4k","type":"blocks","created_at":"2025-12-28T15:56:43.559511-05:00","created_by":"daemon"}]}
{"id":"pair_review-b2b","title":"Delete worktree button does nothing on landing page","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-29T08:35:37.783385-05:00","updated_at":"2025-12-29T08:37:31.599907-05:00","closed_at":"2025-12-29T08:37:31.599907-05:00"}
{"id":"pair_review-b8y","title":"Hide AI sidebar on landing page","description":"The collapsed AI suggestions sidebar still appears on the landing/index page when no PR is displayed. It should only be visible on PR review pages.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-29T08:05:32.534182-05:00","updated_at":"2025-12-29T08:26:47.275132-05:00","closed_at":"2025-12-29T08:26:47.275132-05:00","dependencies":[{"issue_id":"pair_review-b8y","depends_on_id":"pair_review-jbp","type":"blocks","created_at":"2025-12-29T08:05:54.665252-05:00","created_by":"daemon"}]}
{"id":"pair_review-cu8","title":"diff display should use more of full window width when sidebars are collapsed","description":"This should be more like gitHub in terms of using most of the window width","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T08:49:47.191183-05:00","updated_at":"2025-12-27T10:24:50.951641-05:00","closed_at":"2025-12-27T10:24:50.951641-05:00"}
{"id":"pair_review-d7n","title":"AI suggestions for lines that are not visible","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:46:08.631773-05:00","updated_at":"2025-12-27T08:46:08.631773-05:00"}
{"id":"pair_review-e4k","title":"Worktree management","description":"## Overview\nImprove how pair-review manages git worktrees for PR reviews. Currently worktrees are created with predictable names, never cleaned up, and recreated on each use.\n\n## Goals\n1. **Dedicated database tracking** - Move from JSON blob storage to proper `worktrees` table\n2. **Random naming** - Use DB-driven random IDs instead of `{owner}-{repo}-{number}` to indicate these are for app use only\n3. **Worktree reuse** - Refresh existing worktrees instead of recreating; error if local changes exist\n4. **Auto-cleanup** - Clean up stale worktrees (default: 7 days) on server start, configurable retention\n5. **Recent reviews UI** - Landing page shows recently reviewed PRs across all repos\n6. **Start from URL** - Create worktree from PR URL via web UI (existing issue ae9)\n\n## Sub-issues\n- **452**: Add dedicated worktrees database table (start here)\n- **4k0**: Use random IDs for worktree directory names\n- **k7u**: Reuse existing worktree when reopening same PR\n- **0oj**: Auto-cleanup stale worktrees on server start\n- **su1**: Add recently reviewed PRs list to landing page\n- **ae9**: Start review from web UI","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-27T09:14:28.91021-05:00","updated_at":"2025-12-28T16:45:41.212873-05:00","closed_at":"2025-12-28T16:45:41.212873-05:00"}
{"id":"pair_review-ebz","title":"Handle stale worktrees in recent reviews","description":"Old worktrees appear in recent reviews list but clicking them leads to 404 errors. Need to either: (1) validate worktree directories exist before showing them, (2) auto-cleanup stale entries on server start, or (3) add a cleanup command. Should not show non-functional entries to users.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-29T11:48:25.816735-05:00","updated_at":"2025-12-29T11:50:10.392035-05:00","closed_at":"2025-12-29T11:50:10.392035-05:00"}
{"id":"pair_review-ezw","title":"AI suggestion and user comment width should never be greater than diff display width","description":"This should be helped by wrapping long lines: pair_review-a4d","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:48:33.629798-05:00","updated_at":"2025-12-27T08:48:33.629798-05:00"}
{"id":"pair_review-g7f","title":"Split src/routes/pr.js into focused route modules","description":"## Problem\nsrc/routes/pr.js has grown to 2600+ lines, making it difficult to navigate and maintain.\n\n## Solution\nSplit into focused route modules:\n- `routes/analysis.js` - AI analysis endpoints (/api/analyze/*)\n- `routes/worktrees.js` - Worktree management (/api/worktrees/*)  \n- `routes/comments.js` - Comment CRUD (/api/user-comment/*, /api/ai-suggestion/*)\n- `routes/pr.js` - Core PR data endpoints (/api/pr/*)\n\n## Implementation\n1. Create new route files with extracted endpoints\n2. Update src/server.js to mount the new routers\n3. Ensure shared utilities (like broadcastProgress, getModel) are properly shared\n4. Update any imports in tests\n\n## Notes\nShould be done alongside pair_review-rhh (codebase health epic)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-29T16:14:39.694292-05:00","updated_at":"2025-12-29T16:15:01.463497-05:00"}
{"id":"pair_review-igp","title":"Respect .gitattributes linguist-generated files","description":"Files marked with linguist-generated=true in .gitattributes (like package-lock.json, generated code) should be hidden or collapsed by default in the diff view, similar to how GitHub handles them.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-29T11:31:05.970149-05:00","updated_at":"2025-12-29T16:58:42.365511-05:00","closed_at":"2025-12-29T16:58:42.365511-05:00"}
{"id":"pair_review-jbp","title":"Landing page polish","description":"Collection of UI/UX improvements for the landing page to achieve professional quality.\n\n## Issues\n- 38y: URL input field width\n- b8y: Hide AI sidebar on landing page  \n- 41r: Separate index.html and pr.html pages\n- v7u: Repository name styling","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-29T08:05:45.924775-05:00","updated_at":"2025-12-29T08:28:21.591188-05:00","closed_at":"2025-12-29T08:28:21.591188-05:00"}
{"id":"pair_review-k5z","title":"Legacy worktrees are orphaned and not cleaned up","description":"## Problem\nAfter disabling the broken migration (commit 51bd68e), legacy worktrees created before the random ID system are now orphaned:\n\n1. **Not in Recent Reviews** - They have no database records\n2. **Not auto-cleaned** - Cleanup only works on DB records\n3. **Disk space waste** - Users accumulate orphaned worktrees\n4. **Duplicates created** - Opening an old PR creates a NEW worktree instead of reusing\n\n## Root Cause\nThe migration was disabled because it couldn't reliably parse directory names like `in-the-loop-labs-pair-review-123` - it's ambiguous which hyphen separates owner from repo when repo names contain hyphens.\n\n## User Experience Impact\n- Old reviews invisible in UI\n- Disk fills up with orphaned worktrees\n- Re-reviewing old PRs wastes time cloning again\n\n## Recommended Fix: Smart Detection\nWhen `createWorktreeForPR` is called:\n1. Check DB for existing record (current behavior)\n2. If not found, construct legacy path from PR info: `${owner}-${repo}-${number}`\n3. Check if that legacy directory exists AND is a valid git worktree\n4. If yes: create DB record for it and reuse (no parsing ambiguity - we know the owner/repo)\n5. If no: create new worktree with random ID (current behavior)\n\nThis works because we already have the parsed PR info from GitHub - no need to reverse-parse the directory name.\n\n## Implementation\nModify `GitWorktreeManager.createWorktreeForPR()` in `src/git/worktree.js`:\n```javascript\n// After DB lookup fails, before generating new random ID:\nconst legacyDirName = `${prInfo.owner}-${prInfo.repo}-${prInfo.number}`;\nconst legacyPath = path.join(this.worktreeBaseDir, legacyDirName);\nif (await this.pathExists(legacyPath)) {\n  // Validate it's a git worktree and create DB record\n  // Then reuse it\n}\n```","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-29T16:14:40.409453-05:00","updated_at":"2025-12-29T16:24:53.964125-05:00","closed_at":"2025-12-29T16:24:53.964125-05:00"}
{"id":"pair_review-k7u","title":"Reuse existing worktree when reopening same PR","description":"## Problem\nCurrently, opening a PR always deletes and recreates the worktree. This is wasteful if the worktree already exists.\n\n## Solution\nWhen opening a PR:\n1. Check if worktree exists in DB for this PR\n2. If exists and directory is valid:\n   - Check for local uncommitted changes\n   - If local changes exist → **error** (user must resolve manually)\n   - If clean → refresh from remote (git fetch + reset to PR head)\n   - Update `last_accessed_at` timestamp\n3. If not exists → create new worktree as usual\n\n## Implementation\n1. Add `WorktreeManager.refreshWorktree(worktreeRecord)` method:\n   - `git status --porcelain` to check for changes\n   - Throw error if uncommitted changes detected\n   - `git fetch origin pull/{number}/head` \n   - `git reset --hard FETCH_HEAD`\n2. Update `createWorktreeForPR()` to check DB first\n3. Add `WorktreeManager.hasLocalChanges(worktreePath)` helper\n\n## Error Message\n\"Worktree has uncommitted changes. Please resolve manually at: {path}\"\n\n## Dependencies\n- Requires worktrees database table (pair_review-452)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T15:56:21.508022-05:00","updated_at":"2025-12-28T16:25:23.759805-05:00","closed_at":"2025-12-28T16:25:23.759805-05:00","dependencies":[{"issue_id":"pair_review-k7u","depends_on_id":"pair_review-452","type":"blocks","created_at":"2025-12-28T15:56:34.965844-05:00","created_by":"daemon"},{"issue_id":"pair_review-k7u","depends_on_id":"pair_review-e4k","type":"blocks","created_at":"2025-12-28T15:56:43.493547-05:00","created_by":"daemon"}]}
{"id":"pair_review-kes","title":"Fix N+1 query in recent worktrees endpoint","description":"The /api/worktrees/recent endpoint fetches worktrees then queries pr_metadata individually for each. Should use JOIN query instead.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T09:20:03.302894-05:00","updated_at":"2025-12-29T09:21:57.040464-05:00","closed_at":"2025-12-29T09:21:57.040464-05:00"}
{"id":"pair_review-nxs","title":"Refactor createGapSection and createCollapsedSection to extract shared logic","description":"The createGapSection and createCollapsedSection functions in public/js/pr.js share ~140 lines of nearly identical logic for determining icon display, creating buttons, and attaching event handlers. Extract shared logic into helper functions (e.g., createExpandButton, determineIconDisplay, attachExpansionHandler) to reduce duplication and improve maintainability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:53:32.750789-05:00","updated_at":"2025-12-27T08:53:42.094894-05:00"}
{"id":"pair_review-qaj","title":"add support for context7","description":"This MCP could be useful for providing context on frameworks and libraries during review. It should be passed as a command line arg to . The pair-review configuration (or env variable) could be used for specifying a context7 API key.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T08:52:42.774364-05:00","updated_at":"2025-12-27T08:52:42.774364-05:00"}
{"id":"pair_review-rat","title":"add model selector when triggering AI analysis from UI","description":"Instead of starting analysis immediately there should be an intermediate dialog with an option to select the model. In the future, this dialog could grow to support other options like custom instructions","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T09:13:51.751693-05:00","updated_at":"2025-12-27T09:13:51.751693-05:00"}
{"id":"pair_review-rhh","title":"codebase health","description":"some files are getting large. how should the codebase be refactored for long-term maintenanc","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T09:15:29.949674-05:00","updated_at":"2025-12-27T09:15:29.949674-05:00","dependencies":[{"issue_id":"pair_review-rhh","depends_on_id":"pair_review-g7f","type":"blocks","created_at":"2025-12-29T16:15:26.225629-05:00","created_by":"daemon"}]}
{"id":"pair_review-su1","title":"Add recently reviewed PRs list to landing page","description":"## Problem\nNo way to see or reopen previously reviewed PRs from the web UI. Users must remember PR numbers/URLs.\n\n## Solution\nAdd a \"Recent Reviews\" section to the landing page showing recently accessed worktrees.\n\n## UI Design\n```\n┌─────────────────────────────────────────────┐\n│  pair-review                                │\n├─────────────────────────────────────────────┤\n│                                             │\n│  [ Enter PR URL to start review ]  [Start] │\n│                                             │\n│  ─────────────────────────────────────────  │\n│                                             │\n│  Recent Reviews                             │\n│                                             │\n│  anthropic/pair-review #123                 │\n│  Fix authentication bug                     │\n│  Last opened: 2 hours ago              [→]  │\n│                                             │\n│  anthropic/claude-code #456                 │\n│  Add new feature                            │\n│  Last opened: 3 days ago               [→]  │\n│                                             │\n└─────────────────────────────────────────────┘\n```\n\n## Implementation\n1. Add API endpoint: `GET /api/worktrees/recent?limit=10`\n   - Returns list with: repository, pr_number, pr_title, last_accessed_at\n   - Join with pr_metadata for title\n2. Create landing page component (or update existing)\n3. Each item links to `/pr/{owner}/{repo}/{number}`\n4. Show all repos (cross-repository list)\n\n## Future enhancements (not in scope)\n- Search/filter by repo\n- Sort options\n- Pagination\n\n## Dependencies\n- Requires worktrees database table (pair_review-452)\n- Requires worktree reuse logic (so clicking opens existing)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T15:56:23.160887-05:00","updated_at":"2025-12-28T16:35:36.781128-05:00","closed_at":"2025-12-28T16:35:36.781128-05:00","dependencies":[{"issue_id":"pair_review-su1","depends_on_id":"pair_review-452","type":"blocks","created_at":"2025-12-28T15:56:35.00672-05:00","created_by":"daemon"},{"issue_id":"pair_review-su1","depends_on_id":"pair_review-k7u","type":"blocks","created_at":"2025-12-28T15:56:35.027112-05:00","created_by":"daemon"},{"issue_id":"pair_review-su1","depends_on_id":"pair_review-e4k","type":"blocks","created_at":"2025-12-28T15:56:43.538123-05:00","created_by":"daemon"}]}
{"id":"pair_review-v7u","title":"Repository name styling looks like a link","description":"In the recent reviews table, repository names are styled in blue which makes them look like clickable links. Options:\n\n1. Remove blue color if not a link\n2. Make it an actual link to a future repository page\n3. Use a different color that doesn't imply interactivity","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-29T08:05:35.144948-05:00","updated_at":"2025-12-29T08:28:12.109331-05:00","closed_at":"2025-12-29T08:28:12.109331-05:00","dependencies":[{"issue_id":"pair_review-v7u","depends_on_id":"pair_review-jbp","type":"blocks","created_at":"2025-12-29T08:05:54.708069-05:00","created_by":"daemon"}]}
